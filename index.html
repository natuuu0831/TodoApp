<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  <title>TODO</title>
  <link rel="stylesheet" href="style.css">
  <script>
(function() {
var o = document.createElement('div'); o.className = 'optimize-m';
o.insertAdjacentHTML('afterbegin','<div class="optimize-m-background" data-m-close></div><div class="optimize-m-inner">\

<h2 class="optimize-m-lead">\
重要なお知らせ\
</h2>\
<h3 class="optimize-m-sublead">\
新型コロナウィルスの感染拡大に伴う<br>○○○○○○○\
</h3>\
<p class="optimize-m-text">\
ダミーコンテンツダミーコンテンツダミーコンテンツダミーコンテンツダミーコンテンツダミーコンテンツダミーコンテンツダミーコンテンツダミーコンテンツダミーコンテンツ\
</p>\
<button class="optimize-m-button" data-m-close>閉じる</button></div>\
<style>.optimize-m {position:fixed;top:0;left:0;z-index:999999;width:100vw;height:100vh;}.optimize-m-background {width:100%;height:100%;position:absolute;top:0;left:0;z-index:-1;background:rgba(0,0,0,.45);}.optimize-m-close {display:block;width:28px;height:28px;font-size:28px;padding:11px;color:#FFF;position:absolute;top:0;right:0;z-index:1;margin:30px30px00;}.optimize-m-inner {background:#FFF;border-radius:3px;min-width:260px;width:90%;max-width:400px;top:50%;left:50%;position:absolute;z-index:1;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);padding:20px;text-align:center;box-shadow:0px0px15pxrgba(0,0,0,.4);}.optimize-m-image,.optimize-m-lead,.optimize-m-sublead,.optimize-m-text{margin-bottom: 20px;}.optimize-m-image img{max-width:100%;height:auto;}.optimize-m-lead{font-size:24px;font-weight:700;color:#333;}.optimize-m-sublead{font-size:18px;font-weight:700;color:#666;}.optimize-m-text{font-size:inherit;text-align:left;}.optimize-m-button{background:#22AA66;color:#FFF;border:none;border-radius:1em;font-size:20px;font-weight:700;padding:.4em 1em;}</style>'
);
if(sessionStorage.__popup__!==1)document.body.appendChild(o);sessionStorage.setItem('__popup__',1);[].slice.call(document.querySelectorAll('[data-m-close]')).forEach(function(el){el.addEventListener('click',function(){o.style.display='none'})});
})()
</script>
</head>

<body>
  <div id="app" v-cloak>
    <div class="card">
      <form id="addForm">
        <input type="text" v-model="input" class="add_todo" placeholder="タスクを入力してください" />
        期限：<v-date-picker :mode="'single'" :formats="formats" v-model="selectedDate"></v-date-picker>
        <button @click.prevent="addTask" class="btn_add">追加</button>
      </form>

      <div class="filter_wrap">
        <ul class="filter_lists" id="narrowProgress">
          進捗：
          <li v-for="progressList in progressLists" :value="progressList.value" @click="filterItemSelect(progressList)"
            :class="{filteringButton:progressList.done}">
            {{progressList.name}}
          </li>
        </ul>
        <button class="filter_limit_botton" :class="{limitOn:filteringLimit}" @click="filterLimit">期限間近</button>
        <span class="list-count">全 {{listCount}} / {{ｆilteredlistCount}}件</span>
      </div>
      <transition name="fade">
        <div class="no-task" v-show="ｆilteredlistCount==0">{{selectedFilteringItem | changeProgressLang}}タスクはありません</div>
      </transition>

      <!-- lists -->
      <transition-group tag="ul" name="slide" id="taskList">
        <li v-for="list in ｆilteredlist" :class="list.progress" :key="list.id">
          <div class="taskList__wrap" @click="ToggleModal(list)">
            <span class="list_text">{{list.text}}</span>
            <span class="list_status">{{list.progress | changeProgressLang}}</span>
            <span>{{list.date|customformat}}</span>
            <span :class="list.limit <= 0 ? {limit:true}:null">残り<span class="big">{{list.limit | limitOver}}</span>日</span>
            <button class="btn_remove" @click.stop="listRemove(list)">削除</button>
          </div>

          <!----modal----->
          <div id="list-modal" v-if="list.show" @click.self="ToggleModal(list)">
            <dl class="list-modal__box">
              <h2>編集</h2>

              <dt>内容</dt>
              <dd><input type="text" v-model="list.text" /></dd>
              <dt>進捗</dt>
              <dd>
                <select v-model="list._progress">
                  <option value="yet">未着手</option>
                  <option value="work">作業中</option>
                  <option value="comp">完了</option>
                </select>
              </dd>
              <dt>期限</dt>
              <dd class="list-modal__box__date">
                <v-date-picker :mode="'single'" :formats="formats" v-model="list.date"></v-date-picker>
              </dd>
              <button @click="ToggleModal(list)" class="">完了</button>
            </dl>
          </div>
          <!----modal----->
        </li>
      </transition-group>
      <!-- lists -->
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
  <script src="https://unpkg.com/v-calendar"></script>
  <script src="https://momentjs.com/downloads/moment.js"></script>
  <script src="app.js"></script>
</body>

</html>
